---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "hephaestus_control_plane_member Resource - hephaestus"
subcategory: ""
description: |-
  Joins an additional control plane node to an existing Kubernetes cluster for high availability.
  This resource uses the join material from hephaestus_control_plane to join additional
  control plane nodes and deploys kube-vip on each.
  Example Usage
  
  resource "hephaestus_control_plane_member" "secondary" {
    for_each = {
      "k8s-cp-2" = hephaestus_node.cp2
      "k8s-cp-3" = hephaestus_node.cp3
    }
    
    node_id          = each.value.id
    node_ip          = each.value.ip
    node_name        = each.key
    cluster_id       = hephaestus_control_plane.primary.id
    join_endpoint    = hephaestus_control_plane.primary.api_endpoint
    join_token       = hephaestus_control_plane.primary.join_token
    ca_cert_hash     = hephaestus_control_plane.primary.ca_cert_hash
    certificate_key  = hephaestus_control_plane.primary.certificate_key
    control_plane_vip = hephaestus_control_plane.primary.control_plane_vip
  }
---

# hephaestus_control_plane_member (Resource)

Joins an additional control plane node to an existing Kubernetes cluster for high availability.

This resource uses the join material from `hephaestus_control_plane` to join additional 
control plane nodes and deploys kube-vip on each.

## Example Usage

```hcl
resource "hephaestus_control_plane_member" "secondary" {
  for_each = {
    "k8s-cp-2" = hephaestus_node.cp2
    "k8s-cp-3" = hephaestus_node.cp3
  }
  
  node_id          = each.value.id
  node_ip          = each.value.ip
  node_name        = each.key
  cluster_id       = hephaestus_control_plane.primary.id
  join_endpoint    = hephaestus_control_plane.primary.api_endpoint
  join_token       = hephaestus_control_plane.primary.join_token
  ca_cert_hash     = hephaestus_control_plane.primary.ca_cert_hash
  certificate_key  = hephaestus_control_plane.primary.certificate_key
  control_plane_vip = hephaestus_control_plane.primary.control_plane_vip
}
```



<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `ca_cert_hash` (String, Sensitive) CA certificate hash (from control_plane.ca_cert_hash)
- `certificate_key` (String, Sensitive) Certificate key for control plane join (from control_plane.certificate_key)
- `cluster_id` (String) ID of the hephaestus_control_plane resource
- `control_plane_vip` (String) Control plane VIP for kube-vip deployment
- `join_endpoint` (String) API endpoint to join (from control_plane.api_endpoint)
- `join_token` (String, Sensitive) Join token (from control_plane.join_token)
- `node_id` (String) ID of the hephaestus_node resource
- `node_ip` (String) IP address of the node
- `node_name` (String) Hostname of the node

### Read-Only

- `id` (String) Resource identifier
- `joined_at` (String) Timestamp when the node joined the cluster
- `kubevip_deployed` (Boolean) Whether kube-vip is deployed on this node
