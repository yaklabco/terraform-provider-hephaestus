---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "hephaestus Provider"
description: |-
  The Hephaestus provider enables declarative Kubernetes cluster lifecycle
  management using kubeadm. It provides resources for bootstrapping HA clusters
  with proper state management and drift detection.
  This provider is compatible with both Terraform and OpenTofu.
  Authentication
  The provider requires SSH access to cluster nodes. Configure authentication using
  either ssh_private_key (key content) or ssh_private_key_file (path to key file).
  Example Usage
  
  provider "hephaestus" {
    ssh_user             = "ubuntu"
    ssh_private_key_file = "~/.ssh/id_ed25519"
  }
---

# hephaestus Provider

The Hephaestus provider enables declarative Kubernetes cluster lifecycle 
management using kubeadm. It provides resources for bootstrapping HA clusters 
with proper state management and drift detection.

This provider is compatible with both Terraform and OpenTofu.

## Authentication

The provider requires SSH access to cluster nodes. Configure authentication using 
either `ssh_private_key` (key content) or `ssh_private_key_file` (path to key file).

## Example Usage

```hcl
provider "hephaestus" {
  ssh_user             = "ubuntu"
  ssh_private_key_file = "~/.ssh/id_ed25519"
}
```

## Example Usage

```terraform
# Configure the Hephaestus provider
# This provider works with both Terraform and OpenTofu

terraform {
  required_providers {
    hephaestus = {
      source  = "yaklab/hephaestus"
      version = "~> 1.0"
    }
  }
}

provider "hephaestus" {
  # SSH user for connecting to nodes
  ssh_user = "ubuntu"

  # SSH private key - use one of these options:
  # Option 1: Path to key file
  ssh_private_key_file = "~/.ssh/id_ed25519"

  # Option 2: Key content (useful with secrets managers)
  # ssh_private_key = var.ssh_private_key

  # Optional: SSH connection settings
  # ssh_timeout             = "30s"
  # ssh_connection_attempts = 3
  # ssh_use_multiplexing    = true

  # Optional: Operation timeouts
  # node_prep_timeout    = "10m"
  # kubeadm_init_timeout = "10m"
  # kubeadm_join_timeout = "5m"
  # addon_timeout        = "15m"
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Optional

- `addon_timeout` (String) Timeout for addon installation. Default: `15m`
- `kubeadm_init_timeout` (String) Timeout for kubeadm init operation. Default: `10m`
- `kubeadm_join_timeout` (String) Timeout for kubeadm join operations. Default: `5m`
- `node_prep_timeout` (String) Timeout for node preparation operations. Default: `10m`
- `ssh_connection_attempts` (Number) Number of SSH connection attempts before failing. Default: `3`
- `ssh_private_key` (String, Sensitive) SSH private key content for authentication. Either `ssh_private_key` or `ssh_private_key_file` must be set. Can also be set via `HEPHAESTUS_SSH_PRIVATE_KEY` environment variable.
- `ssh_private_key_file` (String) Path to SSH private key file. Either `ssh_private_key` or `ssh_private_key_file` must be set. Can also be set via `HEPHAESTUS_SSH_PRIVATE_KEY_FILE` environment variable.
- `ssh_timeout` (String) SSH connection timeout as a duration string (e.g., `30s`, `1m`). Default: `30s`
- `ssh_use_multiplexing` (Boolean) Enable SSH connection multiplexing for improved performance. Default: `true`
- `ssh_user` (String) SSH user for connecting to nodes. Can also be set via `HEPHAESTUS_SSH_USER` environment variable. Default: `ubuntu`
